
<!DOCTYPE html>
<html lang="es">
<head>
  <title>Binnakle</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="./images/favicon.ico">
  <link rel="stylesheet" href="./css/fontawesome-all-571.min.css">
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/theme.css">
</head>
<body>

        <div class="container u-header__hide-content pt-2">
                <div class="d-flex align-items-center">
                  <!-- Language -->
                  <div class="position-relative">
                    <a id="languageDropdownInvoker" class="dropdown-nav-link dropdown-toggle d-flex align-items-center" href="javascript:;" role="button" aria-controls="languageDropdown" aria-haspopup="true" aria-expanded="false" data-unfold-event="hover" data-unfold-target="#languageDropdown" data-unfold-type="css-animation" data-unfold-duration="300" data-unfold-delay="300" data-unfold-hide-on-scroll="true" data-unfold-animation-in="slideInUp" data-unfold-animation-out="fadeOut">
                       <img class="dropdown-item-icon" src="../../assets/vendor/flag-icon-css/flags/4x3/us.svg" alt="SVG">
                      <span class="d-inline-block d-sm-none">US</span>
                      <span class="d-none d-sm-inline-block">United States</span>
                    </a>
        
                    <div id="languageDropdown" class="dropdown-menu dropdown-unfold u-unfold--css-animation u-unfold--hidden fadeOut" aria-labelledby="languageDropdownInvoker" style="animation-duration: 300ms; left: 0px;">
                      <a class="dropdown-item active" href="#">English</a>
                      <a class="dropdown-item" href="#">Deutsch</a>
                      <a class="dropdown-item" href="#">Español‎</a>
                    </div>
                  </div>
                  <!-- End Language -->
        
                  <div class="ml-auto">
                    <!-- Jump To -->
                    <div class="d-inline-block d-sm-none position-relative mr-2">
                      <a id="jumpToDropdownInvoker" class="dropdown-nav-link dropdown-toggle d-flex align-items-center" href="javascript:;" role="button" aria-controls="jumpToDropdown" aria-haspopup="true" aria-expanded="false" data-unfold-event="hover" data-unfold-target="#jumpToDropdown" data-unfold-type="css-animation" data-unfold-duration="300" data-unfold-delay="300" data-unfold-hide-on-scroll="true" data-unfold-animation-in="slideInUp" data-unfold-animation-out="fadeOut">
                        Jump to
                      </a>
        
                      <div id="jumpToDropdown" class="dropdown-menu dropdown-unfold u-unfold--css-animation u-unfold--hidden fadeOut" aria-labelledby="jumpToDropdownInvoker" style="animation-duration: 300ms; left: 0px;">
                        <a class="dropdown-item" href="../../html/pages/help.html">Help</a>
                        <a class="dropdown-item" href="../../html/pages/contacts-agency.html">Contacts</a>
                      </div>
                    </div>
                    <!-- End Jump To -->
        
                    <!-- Links -->
                    <div class="d-none d-sm-inline-block ml-sm-auto">
                      <ul class="list-inline mb-0">
                        <li class="list-inline-item mr-0">
                          <a class="u-header__navbar-link" href="../pages/help.html">Help</a>
                        </li>
                        <li class="list-inline-item mr-0">
                          <a class="u-header__navbar-link" href="../pages/contacts-agency.html">Contacts</a>
                        </li>
                      </ul>
                    </div>
                    <!-- End Links -->
                  </div>
        
                  <ul class="list-inline ml-2 mb-0">
                    <!-- Search -->
                    <li class="list-inline-item">
                      <a class="btn btn-xs btn-icon btn-text-secondary target-of-invoker-has-unfolds" href="javascript:;" role="button" aria-haspopup="true" aria-expanded="false" aria-controls="searchPushTop" data-unfold-type="jquery-slide" data-unfold-target="#searchPushTop">
                        <span class="fas fa-search btn-icon__inner"></span>
                      </a>
                    </li>
                    <!-- End Search -->
        
                    <!-- Shopping Cart -->
                    <li class="list-inline-item position-relative">
                      <a id="shoppingCartDropdownInvoker" class="btn btn-xs btn-icon btn-text-secondary" href="javascript:;" role="button" aria-controls="shoppingCartDropdown" aria-haspopup="true" aria-expanded="false" data-unfold-event="hover" data-unfold-target="#shoppingCartDropdown" data-unfold-type="css-animation" data-unfold-duration="300" data-unfold-delay="300" data-unfold-hide-on-scroll="true" data-unfold-animation-in="slideInUp" data-unfold-animation-out="fadeOut">
                        <span class="fas fa-shopping-cart btn-icon__inner"></span>
                      </a>
        
                      <div id="shoppingCartDropdown" class="dropdown-menu dropdown-unfold dropdown-menu-right text-center p-7 u-unfold--css-animation u-unfold--hidden fadeOut" aria-labelledby="shoppingCartDropdownInvoker" style="min-width: 250px; animation-duration: 300ms; right: 0px;">
                        <span class="btn btn-icon btn-soft-primary rounded-circle mb-3">
                          <span class="fas fa-shopping-basket btn-icon__inner"></span>
                        </span>
                        <span class="d-block">Your Cart is Empty</span>
                      </div>
                    </li>
                    <!-- End Shopping Cart -->
        
                    <!-- Account Login -->
                    <li class="list-inline-item">
                      <!-- Account Sidebar Toggle Button -->
                      <a id="sidebarNavToggler" class="btn btn-xs btn-icon btn-text-secondary target-of-invoker-has-unfolds" href="javascript:;" role="button" aria-controls="sidebarContent" aria-haspopup="true" aria-expanded="false" data-unfold-event="click" data-unfold-hide-on-scroll="false" data-unfold-target="#sidebarContent" data-unfold-type="css-animation" data-unfold-animation-in="fadeInRight" data-unfold-animation-out="fadeOutRight" data-unfold-duration="500">
                        <span class="fas fa-user-circle btn-icon__inner font-size-1"></span>
                      </a>
                      <!-- End Account Sidebar Toggle Button -->
                    </li>
                    <!-- End Account Login -->
                  </ul>
                </div>
              </div>

              <button class="btn-grabar">guardar</button>

              <div class="ui-dialog">ui-dialog</div>

              <button click="send()">send</button>

<!--<script src="./js/jquery-3.3.1.slim.min.js"></script>-->
<script src="./js/jquery-3.3.1.min.js"></script>
<script src="./js/popper.min.js"></script>
<script src="./js/bootstrap.min.js"></script>








<script type="text/javascript">

$.noConflict();
jQuery( document ).ready(function( $ ) {
    console.log( "ready!" );
    send();
});

RCivilApp = {};
RCivilApp.urlGeneric = "https://rcdigital.cba.gov.ar/app_dev.php/applicacion";
RCivilApp.jsVersion = 1;
                RCivilApp.blokAutomatico == true;
//RCivilApp.ajax= 
function send(accion, returnIn, data, files,isSoap, mensaje) {
    "use strict";

    if(mensaje === undefined){
        var mensaje = "Espere por favor. Estableciendo conexión con el servidor";
    }
    //--------------------------------------------------------------------------
    var action, fd, i, f,cantF,UrlAjax;
    fd      = new FormData();
    //--------------------------------------------------------------------------
    cantF=0;
    if ( isSoap == undefined || isSoap !== false){
        isSoap = true;
    }
    if (isSoap) {
        UrlAjax = RCivilApp.urlGeneric;
    }else{
        UrlAjax = accion;
    }
    if ( files !== null && files !== undefined) {
        for (i in files ) {
            f = files[i];
            fd.append(i, f);
            cantF++;
        }
        fd.append("cantFile",      cantF);
    }
    if (typeof data === "string") {
        fd.append("data", data);
    }else{
        fd.append("data", JSON.stringify(data) );
    }
    if (isSoap) {
        fd.append("jsVersion",  RCivilApp.jsVersion);
        fd.append("accion",     accion);
    }
    //----------------------------------------------------------------------------------------------------------
    

    setTimeout(function(){
        jQuery.ajax({
            async:false,
            contentType: false,
            processData: false,
            timeout: 0,
            cache: false,
            type: 'POST',
            url: UrlAjax,
            data:fd,
            iframeSrc: 'javascript:false',
            success: function (str) {
                jQuery('.btn-grabar').attr('disabled', false);
                if ( RCivilApp.blokAutomatico == true ) {
                    RCivilApp.unblock();
                }
                

                var aux;
                if (typeof returnIn === "function") {

                    var json;
                    try {
                        json = JSON.parse(str);
                    }catch (e) {
                        json = "";
                    }

                    if (typeof json.success != 'undefined' && (typeof json.error == 'string' || typeof json.error == 'object')){
                        if(!json.success && json.error != null){
                            var msg = "";
                            if(typeof json.error == 'object'){
                                msg = '<strong>Errores en la aplicación. detalles:</strong><br><br>';
                                try{
                                    $.each(json.error, function(i,v){
                                        msg += v + '</br>';
                                    })
                                }catch(e){}
                            }else{
                                msg = json.error;
                            }
                            if(msg != ""){
                                aux = {
                                    data:null,
                                    succes: false,
                                    errorApp:true
                                };

                                alert(msg, function () {returnIn( aux ); });

                                $('.ui-dialog').css({'width': '800px', 'left': 260});

                                return false;
                            }
                        }
                    }

                    if (typeof json.data === "string") {
                        aux = {
                            data:json.data.length==0?{}:JSON.parse(json.data),
                            succes: json.success,
                            errorAppM:"",
                            errorApp:false
                        };
                        returnIn(aux);
                    } else {
                        if ( typeof json.errorApp === "string" ) {
                            aux = {
                                data:null,
                                succes: false,
                                errorAppM:json.errorApp,
                                errorApp:true
                            };

                            if(json.errorApp == 'Error Fetching http headers'){
                                json.errorApp = 'Tiempo de espera agotado. El servidor no responde.';
                            }

                            if(json.errorApp == 'looks like we got no XML document'){
                                json.errorApp = 'Error de aplicación no capturado.';
                            }
                            alert(json.errorApp,function () {returnIn( aux ); });
                            return true;
                        }else {
                            if ( json =="" ){
                                aux = {
                                    data:null,
                                    succes: false,
                                    mensaje: "Eerror en aplicacion, reintente en un momento",
                                    errorAppM:"Eerror en aplicacion, reintente en un momento",
                                    errorApp:true
                                };
                                alert("Eerror en aplicacion, reintente en un momento",function () {returnIn( aux ); });
                                return true;

                            }else{
                                aux = {
                                    data:json.data,
                                    succes: json.success,
                                    mensaje: json.message === undefined ? json.error === undefined ? null : json.error : json.message,
                                    errorAppM:"",
                                    errorApp:false
                                };
                                returnIn(aux);
                            }
                        }
                    }
                }

            },
            error:function(a) {
                jQuery('.btn-grabar').attr('disabled', false);
                if ( RCivilApp.blokAutomatico == true ) {
                    RCivilApp.blokAutomatico = true;
                }
                
                var men ="";
                if ( typeof  RcDigital =="undefined" ){
                    men = "Error en la aplicación, reintente nuevamente si es la primera vez que ocurre";
                }else{
                    men= RcDigital.mensajes.err_0001;
                }
                console.log('mensaje_usuario_permanente');
                /*
                mensaje_usuario_permanente(RCivilApp.mensajes.tituloError, men, 2);
                */
                return false;
            }
        });
    });
};

</script>
</body>
</html>
